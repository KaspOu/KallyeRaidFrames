<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="KallyeRaidFrames.globals.lua"/>
	<Script file="localization.en.lua"/>
	<Script file="localization.fr.lua"/>
	<Script file="KallyeRaidFrames_lib.lua"/>
	<Script file="KallyeRaidFrames.lua"/>

	<!-- <Font name="PawnFontBlue" inherits="GameFontNormal" virtual="true">
		<Color r ="0.56" g="0.76" b="0.90" />
	</Font>
	<Font name="PawnFontBlueSmall" inherits="GameFontNormalSmall" virtual="true">
		<Color r ="0.56" g="0.76" b="0.90" />
	</Font>
	<Font name="PawnFontSilverTiny" inherits="GameFontNormalSmall" virtual="true">
		<Color r ="0.75" g="0.75" b="0.75" />
		<FontHeight><AbsValue val="8" /></FontHeight>
	</Font>
	<Font name="PawnFontSilver" inherits="GameFontNormal" virtual="true">
		<Color r ="0.75" g="0.75" b="0.75" />
	</Font>
	<Font name="PawnFontSilverLarge" inherits="GameFontNormalLarge" virtual="true">
		<Color r ="0.75" g="0.75" b="0.75" />
	</Font>
	https://openclassrooms.com/forum/sujet/code-lua-pour-wow-99378
	-->
	<Frame name="KallyeRaidFramesEvents">
		<Scripts>
			<OnLoad>
				KRF_OnLoad(self);
			</OnLoad>
		</Scripts>
	</Frame>
	<Frame name="KRFOptionsContainer" parent="InterfaceOptionsFramePanelContainer">
		<Layers>
			<Layer level="ARTWORK">

				<FontString name="$parentHeaderLabel" inherits="GameFontNormalLarge" justifyH="LEFT" justifyV="TOP" text="KRF_OPTIONS_TITLE">
					<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="20" y="-10" /></Offset></Anchor></Anchors>
					<Size><AbsDimension x="550" y="350" /></Size>
				</FontString>
				<!-- Remove Scroll from here (1/2) ######## -->
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame name="KRFOptionsScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset><AbsDimension x="0" y="-28"/></Offset>
					</Anchor>
					<Anchor point="BOTTOMRIGHT">
						<Offset><AbsDimension x="-30" y="8"/></Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="KRFOptionsFrame">
						<Size x="550" y="1450" />
						<Layers>
							<Layer level="ARTWORK">
								<!-- END Remove Scroll from here (1/2)  ######## -->
								<FontString name="$parentSubtitleLabel" inherits="GameFontNormal" justifyH="LEFT" justifyV="MIDDLE" text="KRF_SUBTITLE">
									<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="20" y="-10" /></Offset></Anchor></Anchors>
								</FontString>
								<FontString name="$parentTooltipLabel" inherits="GameFontHighlight" justifyH="LEFT" justifyV="MIDDLE" text="KRF_DESC">
									<Anchors><Anchor point="TOPLEFT" relativeTo="$parentSubtitleLabel" relativePoint="BOTTOMLEFT">
										<Offset><AbsDimension x="0" y="-15" /></Offset>
									</Anchor></Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<CheckButton name="$parentUpdateHealthColor" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="20" y="-100" /></Offset></Anchor></Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_HIGHLIGHTLOWHP);
										self.tooltipText = KRF_OPTION_HIGHLIGHTLOWHP;
									</OnLoad>
									<OnUpdate>
										ManageHealthOptionsEnabled()
									</OnUpdate>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parentRevertBar" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentUpdateHealthColor" relativePoint="BOTTOMLEFT">
										<Offset x="15" y="0"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_REVERTBAR);
										self.tooltipText = KRF_OPTION_REVERTBAR;
									</OnLoad>
									<OnUpdate>
										ManageHealthOptionsEnabled()
									</OnUpdate>
								</Scripts>
							</CheckButton>
							<Button name="$parentBGColorLow" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentRevertBar" relativePoint="BOTTOMLEFT"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										KRF_ColorButtonWidget(self);
										self.Text:SetText("Back - Low health");
										self.tooltipText = "Back - Low health";
									</OnLoad>
								</Scripts>
							</Button>
							<Button name="$parentBGColorWarn" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentBGColorLow" relativePoint="TOPLEFT">
										<Offset x="150" y="0"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										KRF_ColorButtonWidget(self)
									</OnLoad>
								</Scripts>
							</Button>
							<Button name="$parentBGColorOK" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentBGColorLow" relativePoint="TOPLEFT">
										<Offset x="300" y="0"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										KRF_ColorButtonWidget(self)
									</OnLoad>
								</Scripts>
							</Button>
							<Button name="$parentRevertBGColorLow" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentBGColorLow" relativePoint="TOPLEFT"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										KRF_ColorButtonWidget(self)
										self.Text:SetText("HP - Low health");
										self.tooltipText = "HP - Low health";
									</OnLoad>
								</Scripts>
							</Button>
							<Button name="$parentRevertBGColorWarn" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentRevertBGColorLow" relativePoint="TOPLEFT">
										<Offset x="150" y="0"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										KRF_ColorButtonWidget(self)
									</OnLoad>
								</Scripts>
							</Button>
							<Button name="$parentRevertBGColorOK" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentRevertBGColorLow" relativePoint="TOPLEFT">
										<Offset x="300" y="0"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										KRF_ColorButtonWidget(self)
									</OnLoad>
								</Scripts>
							</Button>
							<CheckButton name="$parentAutoRefresh" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentBGColorLow" relativePoint="BOTTOMLEFT">
										<Offset x="-15" y="-10"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText("Auto refresh search list");
										self.tooltipText = "Automatically refresh search list every 30 sec.";
									</OnLoad>
									<OnUpdate>
										KRF_OptionsEnable(KRFOptionsFrameAutoRefreshInterval, self:GetChecked())
									</OnUpdate>
								</Scripts>
							</CheckButton>
							<Slider name="$parentAutoRefreshInterval" inherits="VideoOptionsSliderTemplate" minValue="0" maxValue="3" valueStep="1" stepsPerPage="1" obeyStepOnDrag="true">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentAutoRefresh" relativePoint="BOTTOMLEFT">
										<Offset x="0" y="-25"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										local name = self:GetName();
										self.type = CONTROLTYPE_SLIDER;
										self.tooltip = "Set auto refresh interval (sec)";
										self.name = "Auto refresh interval";
										self.SetDisplayValue = self.SetValue;
										self.SetValue = function (self, value)
										self:SetDisplayValue(value);
										LFRAdvancedOptions.AutoRefreshInterval = value;
										end
										self.GetCurrentValue = function (self)
											return LFRAdvancedOptions.AutoRefreshInterval;
										end
										_G[name.."Text"]:SetFontObject("OptionsFontSmall");
										_G[name.."Text"]:SetText("Auto refresh interval");
										_G[name.."High"]:Hide();

										self.Label = _G[name.."Low"];
										self.Label:ClearAllPoints();
										self.Label:SetPoint("LEFT", self, "RIGHT", 3, 2);
									</OnLoad>
									<OnValueChanged>
										self.Label:SetFormattedText("%d sec", value);
										self:SetValue(value);
									</OnValueChanged>
								</Scripts>
							</Slider>
							<CheckButton name="$parentFriendsClassColor" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentAutoRefreshInterval" relativePoint="BOTTOMLEFT"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_FRIENDSCLASSCOLOR);
										self.tooltipText = KRF_OPTION_FRIENDSCLASSCOLOR;
									</OnLoad>
								</Scripts>
							</CheckButton>
							<Button name="$parentResetOptions" inherits="OptionsButtonTemplate">
								<Size x="200" y="20" />
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parentFriendsClassColor" relativePoint="BOTTOMLEFT"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_RESET_OPTIONS);
										self.tooltipText = KRF_OPTION_RESET_OPTIONS;
									</OnLoad>
									<OnClick>
										KRF_SetDefaultOptions(KRF_DefaultOptions, true);
										ReloadUI();
									</OnClick>
								</Scripts>
							</Button>
							<!-- Remove Scroll from here (2/2) ########  -->
						</Frames>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<!-- END Remove Scroll from here (2/2) ########  -->
		</Frames>
		<Scripts>
			<OnLoad>
				RefreshKRFOptions();
				self.name = KRF_TITLE;
				self.okay = SaveKRFOptions;
				self.refresh = RefreshKRFOptions;
				InterfaceOptions_AddCategory(self);

				ManageHealthOptionsEnabled = function()
					local HealthOption, RevertBarOption = _G[KRF_OPTIONS.."UpdateHealthColor"]:GetChecked(), _G[KRF_OPTIONS.."RevertBar"]:GetChecked()
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBar"], HealthOption)
					if not RevertBarOption then
						_G[KRF_OPTIONS.."BGColorLow"]:Show();
						_G[KRF_OPTIONS.."BGColorWarn"]:Show();
						_G[KRF_OPTIONS.."BGColorOK"]:Show();
						_G[KRF_OPTIONS.."RevertBGColorLow"]:Hide();
						_G[KRF_OPTIONS.."RevertBGColorWarn"]:Hide();
						_G[KRF_OPTIONS.."RevertBGColorOK"]:Hide();
					else
						_G[KRF_OPTIONS.."BGColorLow"]:Hide();
						_G[KRF_OPTIONS.."BGColorWarn"]:Hide();
						_G[KRF_OPTIONS.."BGColorOK"]:Hide();
						_G[KRF_OPTIONS.."RevertBGColorLow"]:Show();
						_G[KRF_OPTIONS.."RevertBGColorWarn"]:Show();
						_G[KRF_OPTIONS.."RevertBGColorOK"]:Show();
					end
					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorLow"], HealthOption and not RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorWarn"], HealthOption and not RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorOK"], HealthOption and not RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBGColorLow"], HealthOption and RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBGColorWarn"], HealthOption and RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBGColorOK"], HealthOption and RevertBarOption);
				end
			</OnLoad>
		</Scripts>

	</Frame>
</Ui>
