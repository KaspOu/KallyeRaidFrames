<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="KallyeRaidFrames.globals.lua"/>
	<Script file="localization.en.lua"/>
	<Script file="localization.fr.lua"/>
	<Include file="KRFWidgets.xml" />
	<Script file="KallyeRaidFramesAPI.lua"/>
	<Script file="KallyeRaidFrames.lua"/>
	<Frame name="KallyeRaidFramesEvents">
		<Scripts>
			<OnLoad function="KRF_OnLoad" />
		</Scripts>
	</Frame>
	<Frame name="KRFOptionsContainer">
		<Layers>
			<Layer level="ARTWORK">

				<FontString name="$parent_HeaderLabel" inherits="GameFontNormalLarge" justifyH="LEFT" justifyV="TOP" text="KRF_OPTIONS_TITLE">
					<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="20" y="-10" /></Offset></Anchor></Anchors>
					<Size><AbsDimension x="550" y="350" /></Size>
				</FontString>
				<!--@do-not-package@--><!-- Remove Scroll from here (1/2) ######## --><!--@end-do-not-package@-->
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame name="KRFOptionsScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset><AbsDimension x="0" y="-28"/></Offset>
					</Anchor>
					<Anchor point="BOTTOMRIGHT">
						<Offset><AbsDimension x="-30" y="8"/></Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="KRFOptionsFrame">
						<Size x="550" y="820" />
						<Layers>
							<Layer level="ARTWORK">
								<!--@do-not-package@--><!-- END Remove Scroll from here (1/2)  ######## --><!--@end-do-not-package@-->
								<FontString name="$parent_SubtitleLabel" inherits="GameFontNormal" justifyH="LEFT" justifyV="MIDDLE" text="KRF_SUBTITLE">
									<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="20" y="-10" /></Offset></Anchor></Anchors>
								</FontString>
								<FontString name="$parent_TooltipLabel" inherits="GameFontHighlight" justifyH="LEFT" justifyV="MIDDLE" text="KRF_DESC">
									<Anchors><Anchor point="TOPLEFT" relativeTo="$parent_SubtitleLabel" relativePoint="BOTTOMLEFT">
										<Offset><AbsDimension x="0" y="-15" /></Offset>
									</Anchor></Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<CheckButton name="$parent_LabelRaid" inherits="KRFHeadingWidget">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent"><Offset x="0" y="-130"/></Anchor>
								</Anchors>
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_RAID_HEADER" />
								</Attributes>
							</CheckButton>
							<CheckButton name="$parent_UpdateHealthColor" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HIGHLIGHTLOWHP" />
									<Attribute name="tooltip" value="KRF_OPTION_HIGHLIGHTLOWHP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_LabelRaid" relativePoint="BOTTOM"/>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="20" y="0"/></Anchor>
								</Anchors>
								<Scripts>
									<OnUpdate>
										ManageHealthOptionsEnabled()
									</OnUpdate>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_RevertBar" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_REVERTBAR" />
									<Attribute name="tooltip" value="KRF_OPTION_REVERTBAR" />
								</Attributes>
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_UpdateHealthColor" relativePoint="BOTTOM"/>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="40" y="0"/></Anchor>
								</Anchors>
								<Scripts>
									<OnUpdate>
										ManageHealthOptionsEnabled()
									</OnUpdate>
								</Scripts>
							</CheckButton>
							<Button name="$parent_BGColorLow" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_LOW" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_LOW_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_RevertBar" relativePoint="BOTTOMLEFT"/>
								</Anchors>
							</Button>
							<Button name="$parent_BGColorWarn" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_WARN" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_WARN_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BGColorLow" relativePoint="TOPLEFT">
										<Offset x="165" y="0"/>
									</Anchor>
								</Anchors>
							</Button>
							<Button name="$parent_BGColorOK" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_OK" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_OK_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BGColorLow" relativePoint="TOPLEFT">
										<Offset x="330" y="0"/>
									</Anchor>
								</Anchors>
							</Button>
							<Button name="$parent_RevertColorLow" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_LOW" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_LOW_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BGColorLow" relativePoint="TOPLEFT"/>
								</Anchors>
							</Button>
							<Button name="$parent_RevertColorWarn" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_WARN" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_WARN_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_RevertColorLow" relativePoint="TOPLEFT">
										<Offset x="165" y="0"/>
									</Anchor>
								</Anchors>
							</Button>
							<Button name="$parent_RevertColorOK" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_OK" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_OK_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_RevertColorLow" relativePoint="TOPLEFT">
										<Offset x="330" y="0"/>
									</Anchor>
								</Anchors>
							</Button>
							<Slider name="$parent_LimitLow" inherits="KRFSliderWidget" minValue="0" maxValue="100" valueStep="1" stepsPerPage="1" obeyStepOnDrag="false">
								<Size x="100" y="15" />
								<Attributes>
									<Attribute name="title" value="KRF_OPTION_HEALTH_LOW" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_LOW_TOOLTIP" />
									<Attribute name="format" value="%d %%" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BGColorLow" relativePoint="BOTTOMLEFT">
										<Offset x="0" y="-10"/>
									</Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_LimitWarn" inherits="KRFSliderWidget" minValue="0" maxValue="100" valueStep="1" stepsPerPage="1" obeyStepOnDrag="false">
								<Size x="100" y="15" />
								<Attributes>
									<Attribute name="title" value="KRF_OPTION_HEALTH_WARN" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_WARN_TOOLTIP" />
									<Attribute name="format" value="%d %%" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_LimitLow" relativePoint="TOPLEFT">
										<Offset x="165" y="0"/>
									</Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_LimitOk" inherits="KRFSliderWidget" minValue="0" maxValue="100" valueStep="1" stepsPerPage="1" obeyStepOnDrag="false">
								<Size x="100" y="15" />
								<Attributes>
									<Attribute name="title" value="KRF_OPTION_HEALTH_OK" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_OK_TOOLTIP" />
									<Attribute name="format" value="%d %%" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_LimitLow" relativePoint="TOPLEFT">
										<Offset x="330" y="0"/>
									</Anchor>
								</Anchors>
							</Slider>
							<CheckButton name="$parent_MoveRoleIcons" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_MOVEROLEICONS" />
									<Attribute name="tooltip" value="KRF_OPTION_MOVEROLEICONS" />
								</Attributes>
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_LimitLow" relativePoint="BOTTOM"><Offset x="0" y="-25"/></Anchor>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="20" y="0"/></Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="$parent_HideDamageIcons" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HIDEDAMAGEICONS" />
									<Attribute name="tooltip" value="KRF_OPTION_HIDEDAMAGEICONS" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_MoveRoleIcons" relativePoint="BOTTOMLEFT"/>
								</Anchors>
							</CheckButton>
							<CheckButton name="$parent_HideRealm" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HIDEREALM" />
									<Attribute name="tooltip" value="KRF_OPTION_HIDEREALM_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_HideDamageIcons" relativePoint="BOTTOMLEFT"/>
								</Anchors>
							</CheckButton>
							<CheckButton name="$parent_FriendsClassColor" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_FRIENDSCLASSCOLOR" />
									<Attribute name="tooltip" value="KRF_OPTION_FRIENDSCLASSCOLOR_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_HideRealm" relativePoint="BOTTOMLEFT"/>
								</Anchors>
							</CheckButton>
							<Slider name="$parent_AlphaNotInRange" inherits="KRFSliderWidget" minValue="0" maxValue="100" valueStep="1" stepsPerPage="1" obeyStepOnDrag="false">
								<Size x="200" y="15" />
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_NOTINRANGE" />
									<Attribute name="format" value="%d %%" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_FriendsClassColor" relativePoint="BOTTOMLEFT"><Offset x="0" y="-20" /></Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_AlphaNotInCombat" inherits="KRFSliderWidget" minValue="0" maxValue="100" valueStep="1" stepsPerPage="1" obeyStepOnDrag="false">
								<Size x="200" y="15" />
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_NOTINCOMBAT" />
									<Attribute name="format" value="%d %%" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_AlphaNotInRange" relativePoint="BOTTOMLEFT"><Offset x="0" y="-20" /></Anchor>
								</Anchors>
							</Slider>
							<CheckButton name="$parent_SoloRaidFrame" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_SOLORAID" />
									<Attribute name="tooltip" value="KRF_OPTION_SOLORAID" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_AlphaNotInCombat" relativePoint="BOTTOMLEFT"><Offset x="0" y="-20" /></Anchor>
								</Anchors>
							</CheckButton>
							<Button name="$parent_Debug" inherits="UIPanelButtonTemplate">
								<Size x="200" y="20" />
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_SoloRaidFrame" />
									<Anchor point="RIGHT" relativeTo="$parent"><Offset x="0" y="0"/></Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_DEBUG_ON);
										self.tooltipText = KRF_OPTION_DEBUG_ON;
									</OnLoad>
									<OnClick>
										KRF_DebugFrames(true);
										if (self.Text:GetText() == KRF_OPTION_DEBUG_ON) then
											self.Text:SetText(KRF_OPTION_DEBUG_OFF);
											self.tooltipText = KRF_OPTION_DEBUG_OFF;
											_G.PlaySound(850, "Master") -- SOUNDKIT.IG_MAINMENU_OPEN
										else
											self.Text:SetText(KRF_OPTION_DEBUG_ON);
											self.tooltipText = KRF_OPTION_DEBUG_ON;
											_G.PlaySound(851, "Master") -- SOUNDKIT.IG_MAINMENU_CLOSE
										end
									</OnClick>
								</Scripts>
							</Button>
							<CheckButton name="$parent_LabelMaxBuffs" inherits="KRFHeadingWidget">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_Debug" relativePoint="BOTTOM" />
								</Anchors>
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_BUFFS_HEADER" />
								</Attributes>
							</CheckButton>
							<Slider name="$parent_BuffsScale" inherits="KRFSliderWidget" minValue="0.1" maxValue="3" valueStep=".05" stepsPerPage="5" obeyStepOnDrag="false">
								<Size x="200" y="15" />
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_BUFFSSCALE" />
									<Attribute name="format" value="x %.2f" />
								</Attributes>
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_LabelMaxBuffs" relativePoint="BOTTOM"><Offset x="0" y="-15"/></Anchor>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="20" y="0"/></Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_MaxBuffs" inherits="KRFSliderWidget" minValue="1" maxValue="3" valueStep="1" stepsPerPage="1" obeyStepOnDrag="true">
								<Size x="200" y="15" />
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_MAXBUFFS" />
									<Attribute name="tooltip" value="KRF_OPTION_MAXBUFFS_TOOLTIP" />
									<Attribute name="format" value="KRF_OPTION_MAXBUFFS_FORMAT" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BuffsScale" relativePoint="TOPLEFT">
										<Offset x="270" y="0"/>
									</Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_DebuffsScale" inherits="KRFSliderWidget" minValue="0.1" maxValue="3" valueStep=".05" stepsPerPage="5" obeyStepOnDrag="false">
								<Size x="200" y="15" />
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_DEBUFFSSCALE" />
									<Attribute name="format" value="x %.2f" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BuffsScale" relativePoint="BOTTOMLEFT"><Offset x="0" y="-20" /></Anchor>
								</Anchors>
							</Slider>
							<CheckButton name="$parent_LabelOthers" inherits="KRFHeadingWidget">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_DebuffsScale" relativePoint="BOTTOM" />
								</Anchors>
								<Attributes>
									<Attribute name="text" value="" />
								</Attributes>
							</CheckButton>
							<CheckButton name="$parent_FriendsClassColor_Nameplates" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_FRIENDSCLASSCOLOR_NAMEPLATES" />
									<Attribute name="tooltip" value="KRF_OPTION_FRIENDSCLASSCOLOR_NAMEPLATES" />
								</Attributes>
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_LabelOthers" relativePoint="BOTTOM"><Offset x="0" y="-15"/></Anchor>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="20" y="0"/></Anchor>
								</Anchors>
							</CheckButton>
							<Button name="$parent_ResetOptions" inherits="UIPanelButtonTemplate">
								<Size x="200" y="20" />
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_FriendsClassColor_Nameplates" relativePoint="BOTTOMLEFT">
										<Offset x="0" y="-25"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_RESET_OPTIONS);
										self.tooltipText = KRF_OPTION_RESET_OPTIONS;
									</OnLoad>
									<OnClick>
										KRF_SetDefaultOptions(KRF_DefaultOptions, true);
										_G.PlaySound(850, "Master") -- SOUNDKIT.IG_MAINMENU_OPEN
										ReloadUI();
									</OnClick>
								</Scripts>
							</Button>
							<CheckButton name="$parent_ShowMsgNormal" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_SHOWMSGNORMAL" />
									<Attribute name="tooltip" value="KRF_OPTION_SHOWMSGNORMAL" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_ResetOptions" relativePoint="BOTTOMLEFT"><Offset x="0" y="-50"/></Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="$parent_ShowMsgWarning" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_SHOWMSGWARNING" />
									<Attribute name="tooltip" value="KRF_OPTION_SHOWMSGWARNING" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_ShowMsgNormal" relativePoint="TOPLEFT">
										<Offset x="165" y="0"/>
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="$parent_ShowMsgError" inherits="KRFCheckboxWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_SHOWMSGERR" />
									<Attribute name="tooltip" value="KRF_OPTION_SHOWMSGERR" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_ShowMsgNormal" relativePoint="TOPLEFT">
										<Offset x="330" y="0"/>
									</Anchor>
								</Anchors>
							</CheckButton>
							<!--@do-not-package@--><!-- Remove Scroll from here (2/2) ########  --><!--@end-do-not-package@-->
						</Frames>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<!--@do-not-package@--><!-- END Remove Scroll from here (2/2) ########  --><!--@end-do-not-package@-->
		</Frames>
		<Scripts>
			<OnLoad>
				RefreshKRFOptions();
				self.name = KRF_TITLE;
				self.okay = SaveKRFOptions;
				self.refresh = RefreshKRFOptions;
				InterfaceOptions_AddCategory(self);

				ManageHealthOptionsEnabled = function()
					local HealthOption, RevertBarOption = _G[KRF_OPTIONS.."UpdateHealthColor"]:GetChecked(), _G[KRF_OPTIONS.."RevertBar"]:GetChecked()
					KRF_OptionsEnable(_G[KRF_OPTIONS.."MaxBuffs"], false)
					_G[KRF_OPTIONS.."MaxBuffs"]:SetAlpha(.2);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."SoloRaidFrame"], false)
					_G[KRF_OPTIONS.."SoloRaidFrame"]:SetAlpha(.2);

					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBar"], HealthOption)
					KRF_OptionsEnable(_G[KRF_OPTIONS.."LimitLow"], HealthOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."LimitWarn"], HealthOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."LimitOk"], HealthOption);

					if not RevertBarOption then
						_G[KRF_OPTIONS.."BGColorLow"]:Show();
						_G[KRF_OPTIONS.."BGColorWarn"]:Show();
						_G[KRF_OPTIONS.."BGColorOK"]:Show();
						_G[KRF_OPTIONS.."RevertColorLow"]:Hide();
						_G[KRF_OPTIONS.."RevertColorWarn"]:Hide();
						_G[KRF_OPTIONS.."RevertColorOK"]:Hide();
					else
						_G[KRF_OPTIONS.."BGColorLow"]:Hide();
						_G[KRF_OPTIONS.."BGColorWarn"]:Hide();
						_G[KRF_OPTIONS.."BGColorOK"]:Hide();
						_G[KRF_OPTIONS.."RevertColorLow"]:Show();
						_G[KRF_OPTIONS.."RevertColorWarn"]:Show();
						_G[KRF_OPTIONS.."RevertColorOK"]:Show();
					end

					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorLow"], HealthOption and not RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorWarn"], HealthOption and not RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorOK"], HealthOption and not RevertBarOption);

					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertColorLow"], HealthOption and RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertColorWarn"], HealthOption and RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertColorOK"], HealthOption and RevertBarOption);
				end
			</OnLoad>
		</Scripts>

	</Frame>
</Ui>
