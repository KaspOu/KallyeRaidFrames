<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="KallyeRaidFrames.globals.lua"/>
	<Script file="localization.en.lua"/>
	<Script file="localization.fr.lua"/>
	<Include file="KRFWidgets.xml" />
	<Script file="KallyeRaidFramesAPI.lua"/>
	<Script file="KallyeRaidFrames.lua"/>
	<!-- <Font name="PawnFontBlue" inherits="GameFontNormal" virtual="true">
		<Color r ="0.56" g="0.76" b="0.90" />
	</Font>
	<Font name="PawnFontBlueSmall" inherits="GameFontNormalSmall" virtual="true">
		<Color r ="0.56" g="0.76" b="0.90" />
	</Font>
	<Font name="PawnFontSilverTiny" inherits="GameFontNormalSmall" virtual="true">
		<Color r ="0.75" g="0.75" b="0.75" />
		<FontHeight><AbsValue val="8" /></FontHeight>
	</Font>
	<Font name="PawnFontSilver" inherits="GameFontNormal" virtual="true">
		<Color r ="0.75" g="0.75" b="0.75" />
	</Font>
	<Font name="PawnFontSilverLarge" inherits="GameFontNormalLarge" virtual="true">
		<Color r ="0.75" g="0.75" b="0.75" />
	</Font>
	https://openclassrooms.com/forum/sujet/code-lua-pour-wow-99378
	-->

<!--
CharacterFrameTabButtonTemplate
UIPanelButtonTemplate
OptionsButtonTemplate
UIDropDownMenuButtonTemplate
SecureUnitButtonTemplate
SecureActionButtonTemplate
OptionsListButtonTemplate
OptionsFrameTabButtonTemplate
ActionButtonTemplate -->
	<Frame name="KallyeRaidFramesEvents">
		<Scripts>
			<OnLoad>
				KRF_OnLoad(self);
			</OnLoad>
		</Scripts>
	</Frame>
	<Frame name="KRFOptionsContainer" parent="InterfaceOptionsFramePanelContainer">
		<Layers>
			<Layer level="ARTWORK">

				<FontString name="$parent_HeaderLabel" inherits="GameFontNormalLarge" justifyH="LEFT" justifyV="TOP" text="KRF_OPTIONS_TITLE">
					<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="20" y="-10" /></Offset></Anchor></Anchors>
					<Size><AbsDimension x="550" y="350" /></Size>
				</FontString>
				<!-- Remove Scroll from here (1/2) ######## -->
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame name="KRFOptionsScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset><AbsDimension x="0" y="-28"/></Offset>
					</Anchor>
					<Anchor point="BOTTOMRIGHT">
						<Offset><AbsDimension x="-30" y="8"/></Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="KRFOptionsFrame">
						<Size x="550" y="1450" />
						<Layers>
							<Layer level="ARTWORK">
								<!-- END Remove Scroll from here (1/2)  ######## -->
								<FontString name="$parent_SubtitleLabel" inherits="GameFontNormal" justifyH="LEFT" justifyV="MIDDLE" text="KRF_SUBTITLE">
									<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="20" y="-10" /></Offset></Anchor></Anchors>
								</FontString>
								<FontString name="$parent_TooltipLabel" inherits="GameFontHighlight" justifyH="LEFT" justifyV="MIDDLE" text="KRF_DESC">
									<Anchors><Anchor point="TOPLEFT" relativeTo="$parent_SubtitleLabel" relativePoint="BOTTOMLEFT">
										<Offset><AbsDimension x="0" y="-15" /></Offset>
									</Anchor></Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<Button name="$parent_LabelRaid" inherits="KRFHeadingWidget">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent"><Offset x="0" y="-100"/></Anchor>
								</Anchors>
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_RAID_HEADER" />
								</Attributes>
							</Button>
							<CheckButton name="$parent_UpdateHealthColor" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_LabelRaid" relativePoint="BOTTOM"/>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="20" y="0"/></Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_HIGHLIGHTLOWHP);
										self.tooltipText = KRF_OPTION_HIGHLIGHTLOWHP;
									</OnLoad>
									<OnUpdate>
										ManageHealthOptionsEnabled()
									</OnUpdate>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_RevertBar" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_UpdateHealthColor" relativePoint="BOTTOM"/>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="40" y="0"/></Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_REVERTBAR);
										self.tooltipText = KRF_OPTION_REVERTBAR;
									</OnLoad>
									<OnUpdate>
										ManageHealthOptionsEnabled()
									</OnUpdate>
								</Scripts>
							</CheckButton>
							<Button name="$parent_BGColorLow" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_LOW" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_LOW_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_RevertBar" relativePoint="BOTTOMLEFT"/>
								</Anchors>
							</Button>
							<Button name="$parent_BGColorWarn" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_WARN" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_WARN_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BGColorLow" relativePoint="TOPLEFT">
										<Offset x="165" y="0"/>
									</Anchor>
								</Anchors>
							</Button>
							<Button name="$parent_BGColorOK" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_OK" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_OK_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BGColorLow" relativePoint="TOPLEFT">
										<Offset x="330" y="0"/>
									</Anchor>
								</Anchors>
							</Button>
							<Button name="$parent_RevertBGColorLow" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_LOW" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_LOW_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BGColorLow" relativePoint="TOPLEFT"/>
								</Anchors>
							</Button>
							<Button name="$parent_RevertBGColorWarn" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_WARN" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_WARN_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_RevertBGColorLow" relativePoint="TOPLEFT">
										<Offset x="165" y="0"/>
									</Anchor>
								</Anchors>
							</Button>
							<Button name="$parent_RevertBGColorOK" inherits="KRFColorWidget">
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_HEALTH_OK" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_OK_TOOLTIP" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_RevertBGColorLow" relativePoint="TOPLEFT">
										<Offset x="330" y="0"/>
									</Anchor>
								</Anchors>
							</Button>
							<Slider name="$parent_LimitLow" inherits="KRFSliderWidget" minValue="0" maxValue="1" valueStep=".01" stepsPerPage="10" obeyStepOnDrag="false">
								<Size x="100" y="20" />
								<Attributes>
									<Attribute name="text" value="" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_LOW_TOOLTIP" />
									<Attribute name="formatRatio" value="100" />
									<Attribute name="format" value="%d %%" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BGColorLow" relativePoint="BOTTOMLEFT">
										<Offset x="0" y="-10"/>
									</Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_LimitWarn" inherits="KRFSliderWidget" minValue="0" maxValue="1" valueStep=".01" stepsPerPage="10" obeyStepOnDrag="false">
								<Size x="100" y="20" />
								<Attributes>
									<Attribute name="text" value="" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_WARN_TOOLTIP" />
									<Attribute name="formatRatio" value="100" />
									<Attribute name="format" value="%d %%" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_LimitLow" relativePoint="TOPLEFT">
										<Offset x="165" y="0"/>
									</Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_LimitOk" inherits="KRFSliderWidget" minValue="0" maxValue="1" valueStep=".01" stepsPerPage="10" obeyStepOnDrag="false">
								<Size x="100" y="20" />
								<Attributes>
									<Attribute name="text" value="" />
									<Attribute name="tooltip" value="KRF_OPTION_HEALTH_OK_TOOLTIP" />
									<Attribute name="formatRatio" value="100" />
									<Attribute name="format" value="%d %%" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_LimitLow" relativePoint="TOPLEFT">
										<Offset x="330" y="0"/>
									</Anchor>
								</Anchors>
							</Slider>
							<Button name="$parent_Debug" inherits="OptionsButtonTemplate">
								<Size x="200" y="20" />
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_LimitLow" relativePoint="BOTTOM"><Offset x="0" y="-25"/></Anchor>
									<Anchor point="RIGHT" relativeTo="$parent"><Offset x="0" y="0"/></Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_DEBUG_ON);
										self.tooltipText = KRF_OPTION_DEBUG_ON;
									</OnLoad>
									<OnClick>
										KRF_DebugFrames(true);
										if (self.Text:GetText() == KRF_OPTION_DEBUG_ON) then
											self.Text:SetText(KRF_OPTION_DEBUG_OFF);
											self.tooltipText = KRF_OPTION_DEBUG_OFF;
										else
											self.Text:SetText(KRF_OPTION_DEBUG_ON);
											self.tooltipText = KRF_OPTION_DEBUG_ON;
										end
									</OnClick>
								</Scripts>
							</Button>
							<Button name="$parent_LabelMaxBuffs" inherits="KRFHeadingWidget">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_Debug" relativePoint="BOTTOM" />
								</Anchors>
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_BUFFS_HEADER" />
								</Attributes>
							</Button>
							<Slider name="$parent_BuffsScale" inherits="KRFSliderWidget" minValue="0.1" maxValue="3" valueStep=".05" stepsPerPage="5" obeyStepOnDrag="false">
								<Size x="100" y="20" />
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_BUFFSSCALE" />
									<Attribute name="tooltip" value="KRF_OPTION_BUFFSSCALE" />
									<Attribute name="format" value="x %.2f" />
								</Attributes>
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_LabelMaxBuffs" relativePoint="BOTTOM"><Offset x="0" y="-15"/></Anchor>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="40" y="0"/></Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_DebuffsScale" inherits="KRFSliderWidget" minValue="0.1" maxValue="3" valueStep=".05" stepsPerPage="5" obeyStepOnDrag="false">
								<Size x="100" y="20" />
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_DEBUFFSSCALE" />
									<Attribute name="tooltip" value="KRF_OPTION_DEBUFFSSCALE" />
									<Attribute name="format" value="x %.2f" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BuffsScale" relativePoint="TOPLEFT">
										<Offset x="165" y="0"/>
									</Anchor>
								</Anchors>
							</Slider>
							<Slider name="$parent_MaxBuffs" inherits="KRFSliderWidget" minValue="1" maxValue="3" valueStep="1" stepsPerPage="1" obeyStepOnDrag="true">
								<Size x="100" y="20" />
								<Attributes>
									<Attribute name="text" value="KRF_OPTION_MAXBUFFS" />
									<Attribute name="tooltip" value="KRF_OPTION_MAXBUFFS" />
									<Attribute name="format" value="KRF_OPTION_MAXBUFFS_FORMAT" />
								</Attributes>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_BuffsScale" relativePoint="TOPLEFT">
										<Offset x="330" y="0"/>
									</Anchor>
								</Anchors>
							</Slider>
							<CheckButton name="$parent_HideRealm" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_BuffsScale" relativePoint="BOTTOM"><Offset x="0" y="-15"/></Anchor>
									<Anchor point="LEFT" relativeTo="$parent"><Offset x="20" y="0"/></Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_HIDEREALM);
										self.tooltipText = KRF_OPTION_HIDEREALM;
									</OnLoad>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_FriendsClassColor" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_HideRealm" relativePoint="BOTTOMLEFT"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_FRIENDSCLASSCOLOR);
										self.tooltipText = KRF_OPTION_FRIENDSCLASSCOLOR;
									</OnLoad>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_SoloRaidFrame" inherits="InterfaceOptionsCheckButtonTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_FriendsClassColor" relativePoint="BOTTOMLEFT"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_SOLORAID);
										self.tooltipText = KRF_OPTION_SOLORAID;
									</OnLoad>
								</Scripts>
							</CheckButton>
							<Button name="$parent_ResetOptions" inherits="OptionsButtonTemplate">
								<Size x="200" y="20" />
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_SoloRaidFrame" relativePoint="BOTTOMLEFT">
										<Offset x="0" y="-25"/>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Text:SetText(KRF_OPTION_RESET_OPTIONS);
										self.tooltipText = KRF_OPTION_RESET_OPTIONS;
									</OnLoad>
									<OnClick>
										KRF_SetDefaultOptions(KRF_DefaultOptions, true);
										ReloadUI();
									</OnClick>
								</Scripts>
							</Button>
							<!-- Remove Scroll from here (2/2) ########  -->
						</Frames>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<!-- END Remove Scroll from here (2/2) ########  -->
		</Frames>
		<Scripts>
			<OnLoad>
				RefreshKRFOptions();
				self.name = KRF_TITLE;
				self.okay = SaveKRFOptions;
				self.refresh = RefreshKRFOptions;
				InterfaceOptions_AddCategory(self);

				ManageHealthOptionsEnabled = function()
					local HealthOption, RevertBarOption = _G[KRF_OPTIONS.."UpdateHealthColor"]:GetChecked(), _G[KRF_OPTIONS.."RevertBar"]:GetChecked()
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBar"], HealthOption)
					if not RevertBarOption then
						_G[KRF_OPTIONS.."BGColorLow"]:Show();
						_G[KRF_OPTIONS.."BGColorWarn"]:Show();
						_G[KRF_OPTIONS.."BGColorOK"]:Show();
						_G[KRF_OPTIONS.."RevertBGColorLow"]:Hide();
						_G[KRF_OPTIONS.."RevertBGColorWarn"]:Hide();
						_G[KRF_OPTIONS.."RevertBGColorOK"]:Hide();
					else
						_G[KRF_OPTIONS.."BGColorLow"]:Hide();
						_G[KRF_OPTIONS.."BGColorWarn"]:Hide();
						_G[KRF_OPTIONS.."BGColorOK"]:Hide();
						_G[KRF_OPTIONS.."RevertBGColorLow"]:Show();
						_G[KRF_OPTIONS.."RevertBGColorWarn"]:Show();
						_G[KRF_OPTIONS.."RevertBGColorOK"]:Show();
					end
					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorLow"], HealthOption and not RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorWarn"], HealthOption and not RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."BGColorOK"], HealthOption and not RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBGColorLow"], HealthOption and RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBGColorWarn"], HealthOption and RevertBarOption);
					KRF_OptionsEnable(_G[KRF_OPTIONS.."RevertBGColorOK"], HealthOption and RevertBarOption);
				end
			</OnLoad>
		</Scripts>

	</Frame>
</Ui>
